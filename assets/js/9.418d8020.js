(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{192:function(e,n,o){"use strict";o.r(n);var r=o(0),_=Object(r.a)({},function(){var e=this,n=e.$createElement,o=e._self._c||n;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"hwpc-sensor"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#hwpc-sensor","aria-hidden":"true"}},[e._v("#")]),e._v(" HWPC Sensor")]),e._v(" "),o("h2",{attrs:{id:"install-and-run"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#install-and-run","aria-hidden":"true"}},[e._v("#")]),e._v(" Install and run")]),e._v(" "),o("p",[e._v("The HWPC sensor is deployed in a docker container. You can download it with :")]),e._v(" "),o("pre",[o("code",[e._v("docker pull powerapi/hwpc-sensor\n")])]),e._v(" "),o("p",[e._v("To run the sensor use :")]),e._v(" "),o("pre",[o("code",[e._v('docker run --privileged --name hwpc-sensor -td \\\n         -v /sys:/sys \\\n         -v /var/lib/docker/containers:/var/lib/docker/containers:ro \\\n         -v /tmp/powerapi-sensor-reporting:/reporting \\\n         HWPC_DOCKER_IMAGE -n "SENSOR_NAME" -r "mongodb" -U "mongodb://MONGO_ADDRESS" -D "DATABASE_NAME" -C "COLLECTION_NAME" \\\n         -c "sys" -e "INSTRUCTIONS_RETIRED" \\\n         -c "cycles" -e "CYCLES" \\\n         -c "llc" -e "LLC_MISSES" \\\n         -c "rapl" -e "RAPL_ENERGY_CORES" -e "RAPL_ENERGY_PKG" -e "RAPL_ENERGY_GPU" -e "RAPL_ENERGY_DRAM"\n')])]),e._v(" "),o("p",[e._v("This command monitors the following hardware performance counters:\n"),o("code",[e._v("INSTRUCTIONS_RETIRED")]),e._v(", "),o("code",[e._v("CYCLES")]),e._v(", "),o("code",[e._v("LLC_MISSES")]),e._v(", "),o("code",[e._v("RAPL_ENERGY_CORES")]),e._v(",\n"),o("code",[e._v("RAPL_ENERGY_PKG")]),e._v(", "),o("code",[e._v("RAPL_ENERGY_GPU")]),e._v(", "),o("code",[e._v("RAPL_ENERGY_DRAM")]),e._v(" when available\nand uploads the collected metrics into a MongoDB endpoint exposed at\n"),o("code",[e._v("mongodb://MONGO_ADDRESS")]),e._v(", as a collection "),o("code",[e._v("COLLECTION_NAME")]),e._v(" stored in the\ndatabase "),o("code",[e._v("DATABASE_NAME")]),e._v(".")]),e._v(" "),o("p",[e._v("With :")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("HWPC_DOCKER_IMAGE")]),e._v(" :"),o("em",[e._v("HWPC-Sensor")]),e._v(" docker image name")]),e._v(" "),o("li",[o("code",[e._v("SENSOR_NAME")]),e._v(": Sensor name")]),e._v(" "),o("li",[o("code",[e._v("MONGO_ADDRESS")]),e._v(": MongoDB server address")]),e._v(" "),o("li",[o("code",[e._v("DATABASE_NAME")]),e._v(": MongoDB database name")]),e._v(" "),o("li",[o("code",[e._v("COLLECTION_NAME")]),e._v(": MongoDB collection name")])]),e._v(" "),o("h2",{attrs:{id:"source"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#source","aria-hidden":"true"}},[e._v("#")]),e._v(" Source")]),e._v(" "),o("p",[e._v("Source are available on "),o("a",{attrs:{href:"https://github.com/powerapi-ng/hwpc-sensor",target:"_blank",rel:"noopener noreferrer"}},[e._v("github"),o("OutboundLink")],1)])])},[],!1,null,null,null);n.default=_.exports}}]);